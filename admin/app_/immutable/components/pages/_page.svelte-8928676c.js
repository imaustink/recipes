import{S as st,i as at,s as rt,k as a,q as x,a as v,l as r,m as l,r as E,h as s,c as h,n as t,b as Te,G as e,I as ie,J as ke,B as tt,K as lt,o as it}from"../../chunks/index-77903d8e.js";import{g as ot}from"../../chunks/authentication-ed34fc71.js";const Ve="wipData";function nt(n){localStorage.setItem(Ve,JSON.stringify(n))}function ct(){localStorage.removeItem(Ve)}function dt(){const n=localStorage.getItem(Ve);return n?JSON.parse(n):{}}function ut(n){let o;return{c(){o=x("Save")},l(i){o=E(i,"Save")},m(i,u){Te(i,o,u)},d(i){i&&s(o)}}}function mt(n){let o;return{c(){o=x("Loading...")},l(i){o=E(i,"Loading...")},m(i,u){Te(i,o,u)},d(i){i&&s(o)}}}function ft(n){let o,i,u,g,N,R,p,L,te,se,A,c,m,d,B,k,j,oe,ne,C,b,ce,H,T,q,de,ue,J,P,me,U,fe,pe,K,V,M,ve,he,X,O,ge,z,be,ye,F,w,W,_e,xe,G,y,Ee,Y,we,De,Q,D,Ie,Se;function Le(f,_){return f[0]?mt:ut}let ae=Le(n),S=ae(n);return{c(){o=a("div"),i=a("div"),u=a("div"),g=a("h2"),N=x("Create Recipe"),R=v(),p=a("div"),L=a("div"),te=x("This information will be displayed publicly so be careful what you share."),se=v(),A=a("div"),c=a("div"),m=a("form"),d=a("div"),B=a("div"),k=a("div"),j=a("label"),oe=x("Title"),ne=v(),C=a("div"),b=a("input"),ce=v(),H=a("div"),T=a("div"),q=a("label"),de=x("Ingredients"),ue=v(),J=a("div"),P=a("textarea"),me=v(),U=a("p"),fe=x("List the ingredients needed to make this recipe."),pe=v(),K=a("div"),V=a("div"),M=a("label"),ve=x("Directions"),he=v(),X=a("div"),O=a("textarea"),ge=v(),z=a("p"),be=x("Describe the steps to make this recipe."),ye=v(),F=a("div"),w=a("div"),W=a("label"),_e=x("Tags"),xe=v(),G=a("div"),y=a("input"),Ee=v(),Y=a("p"),we=x("Describe the steps to make this recipe."),De=v(),Q=a("div"),D=a("button"),S.c(),this.h()},l(f){o=r(f,"DIV",{class:!0});var _=l(o);i=r(_,"DIV",{class:!0});var Ae=l(i);u=r(Ae,"DIV",{class:!0});var re=l(u);g=r(re,"H2",{class:!0});var Be=l(g);N=E(Be,"Create Recipe"),Be.forEach(s),R=h(re),p=r(re,"DIV",{class:!0});var Pe=l(p);L=r(Pe,"DIV",{class:!0});var Oe=l(L);te=E(Oe,"This information will be displayed publicly so be careful what you share."),Oe.forEach(s),Pe.forEach(s),re.forEach(s),Ae.forEach(s),se=h(_),A=r(_,"DIV",{class:!0});var Ne=l(A);c=r(Ne,"DIV",{class:!0});var Re=l(c);m=r(Re,"FORM",{action:!0,method:!0});var je=l(m);d=r(je,"DIV",{class:!0});var I=l(d);B=r(I,"DIV",{class:!0});var qe=l(B);k=r(qe,"DIV",{class:!0});var le=l(k);j=r(le,"LABEL",{for:!0,class:!0});var Me=l(j);oe=E(Me,"Title"),Me.forEach(s),ne=h(le),C=r(le,"DIV",{class:!0});var We=l(C);b=r(We,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),We.forEach(s),le.forEach(s),qe.forEach(s),ce=h(I),H=r(I,"DIV",{class:!0});var Ce=l(H);T=r(Ce,"DIV",{});var Z=l(T);q=r(Z,"LABEL",{for:!0,class:!0});var He=l(q);de=E(He,"Ingredients"),He.forEach(s),ue=h(Z),J=r(Z,"DIV",{class:!0});var Je=l(J);P=r(Je,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),l(P).forEach(s),Je.forEach(s),me=h(Z),U=r(Z,"P",{class:!0});var Ue=l(U);fe=E(Ue,"List the ingredients needed to make this recipe."),Ue.forEach(s),Z.forEach(s),Ce.forEach(s),pe=h(I),K=r(I,"DIV",{class:!0});var Ke=l(K);V=r(Ke,"DIV",{});var $=l(V);M=r($,"LABEL",{for:!0,class:!0});var Xe=l(M);ve=E(Xe,"Directions"),Xe.forEach(s),he=h($),X=r($,"DIV",{class:!0});var ze=l(X);O=r(ze,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),l(O).forEach(s),ze.forEach(s),ge=h($),z=r($,"P",{class:!0});var Fe=l(z);be=E(Fe,"Describe the steps to make this recipe."),Fe.forEach(s),$.forEach(s),Ke.forEach(s),ye=h(I),F=r(I,"DIV",{class:!0});var Ge=l(F);w=r(Ge,"DIV",{class:!0});var ee=l(w);W=r(ee,"LABEL",{for:!0,class:!0});var Ye=l(W);_e=E(Ye,"Tags"),Ye.forEach(s),xe=h(ee),G=r(ee,"DIV",{class:!0});var Qe=l(G);y=r(Qe,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),Qe.forEach(s),Ee=h(ee),Y=r(ee,"P",{class:!0});var Ze=l(Y);we=E(Ze,"Describe the steps to make this recipe."),Ze.forEach(s),ee.forEach(s),Ge.forEach(s),De=h(I),Q=r(I,"DIV",{class:!0});var $e=l(Q);D=r($e,"BUTTON",{type:!0,class:!0});var et=l(D);S.l(et),et.forEach(s),$e.forEach(s),I.forEach(s),je.forEach(s),Re.forEach(s),Ne.forEach(s),_.forEach(s),this.h()},h(){t(g,"class","text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"),t(L,"class","mt-2 flex items-center text-sm text-gray-500"),t(p,"class","mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap sm:space-x-6"),t(u,"class","min-w-0 flex-1"),t(i,"class","lg:flex lg:items-center lg:justify-between"),t(j,"for","company-website"),t(j,"class","block text-sm font-medium text-gray-700"),t(b,"type","text"),t(b,"name","company-website"),t(b,"class","block w-full flex-1 rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"),t(b,"placeholder","Pork Banh Mi Tacos"),t(C,"class","mt-1 flex shadow-sm"),t(k,"class","col-span-3 sm:col-span-3"),t(B,"class","space-y-6 bg-white px-4 py-5 sm:p-6"),t(q,"for","about"),t(q,"class","block text-sm font-medium text-gray-700"),t(P,"id","Ingredients"),t(P,"name","about"),t(P,"rows","3"),t(P,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"),t(J,"class","mt-1"),t(U,"class","mt-2 text-sm text-gray-500"),t(H,"class","space-y-6 bg-white px-4 py-5 sm:p-6"),t(M,"for","about"),t(M,"class","block text-sm font-medium text-gray-700"),t(O,"id","Directions"),t(O,"name","about"),t(O,"rows","3"),t(O,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"),t(X,"class","mt-1"),t(z,"class","mt-2 text-sm text-gray-500"),t(K,"class","space-y-6 bg-white px-4 py-5 sm:p-6"),t(W,"for","company-website"),t(W,"class","block text-sm font-medium text-gray-700"),t(y,"type","text"),t(y,"name","company-website"),t(y,"class","block w-full flex-1 rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"),t(y,"placeholder","asian, fusion, pork, tacos"),t(G,"class","mt-1 flex shadow-sm"),t(Y,"class","mt-2 text-sm text-gray-500"),t(w,"class","col-span-3 sm:col-span-3"),t(F,"class","space-y-6 bg-white px-4 py-5 sm:p-6"),D.disabled=n[0],t(D,"type","submit"),t(D,"class","inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"),t(Q,"class","bg-gray-50 px-4 py-3 text-right sm:px-6"),t(d,"class","shadow sm:overflow-hidden sm:rounded-md"),t(m,"action","#"),t(m,"method","POST"),t(c,"class","mt-5 md:col-span-3 md:mt-0"),t(A,"class","md:grid md:grid-cols-3 md:gap-6 mt-10"),t(o,"class","relative mx-auto mt-10 w-full max-w-container px-4 sm:px-6 lg:px-8")},m(f,_){Te(f,o,_),e(o,i),e(i,u),e(u,g),e(g,N),e(u,R),e(u,p),e(p,L),e(L,te),e(o,se),e(o,A),e(A,c),e(c,m),e(m,d),e(d,B),e(B,k),e(k,j),e(j,oe),e(k,ne),e(k,C),e(C,b),ie(b,n[1]),e(d,ce),e(d,H),e(H,T),e(T,q),e(q,de),e(T,ue),e(T,J),e(J,P),e(T,me),e(T,U),e(U,fe),e(d,pe),e(d,K),e(K,V),e(V,M),e(M,ve),e(V,he),e(V,X),e(X,O),e(V,ge),e(V,z),e(z,be),e(d,ye),e(d,F),e(F,w),e(w,W),e(W,_e),e(w,xe),e(w,G),e(G,y),ie(y,n[2]),e(w,Ee),e(w,Y),e(Y,we),e(d,De),e(d,Q),e(Q,D),S.m(D,null),Ie||(Se=[ke(b,"input",n[4]),ke(y,"input",n[5]),ke(m,"submit",n[3])],Ie=!0)},p(f,[_]){_&2&&b.value!==f[1]&&ie(b,f[1]),_&4&&y.value!==f[2]&&ie(y,f[2]),ae!==(ae=Le(f))&&(S.d(1),S=ae(f),S&&(S.c(),S.m(D,null))),_&1&&(D.disabled=f[0])},i:tt,o:tt,d(f){f&&s(o),S.d(),Ie=!1,lt(Se)}}}function pt(n,o,i){let u=!1,g,N,R,p;it(async()=>{var m;const c=dt();i(1,g=c.title||""),i(2,p=((m=c.tags)==null?void 0:m.join(","))||""),N=new SimpleMDE({element:document.getElementById("Ingredients"),status:!1}),R=new SimpleMDE({element:document.getElementById("Directions"),status:!1}),c.ingredients&&N.value(c.ingredients),c.directions&&R.value(c.directions)});async function L(c){const m=ot(),B={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:`Bearer ${m}`}),body:JSON.stringify(c)};await(await fetch("https://recipes-api.kurpuis.com/recipes",B)).json(),window.location.href="/admin/success"}function te(c){c.preventDefault(),i(0,u=!0);const m={title:g,ingredients:N.value(),directions:R.value(),tags:p==null?void 0:p.split(",")};nt(m),L(m).catch(d=>{alert(d.message)}).finally(()=>{i(0,u=!1),ct()})}function se(){g=this.value,i(1,g)}function A(){p=this.value,i(2,p)}return[u,g,p,te,se,A]}class gt extends st{constructor(o){super(),at(this,o,pt,ft,rt,{})}}export{gt as default};
